<?xml version="1.0" encoding="utf-8" ?>
<Patch>

<!-- VGP Garden Drinks | dismarzero.VGP.VGPGardenDrinks -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>VGP Garden Drinks</li>
    </mods>
      <match Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationAdd">
        <xpath>*/ThingDef[defName = "UniversalFermenter"]/comps/li[@Class="UniversalFermenter.CompProperties_UniversalFermenter"]/processes</xpath>
          <value>
            <li>
              <thingDef>rum</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>VG_CaneMash</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>8</processDays>
            </li>
            <li>
              <thingDef>strawberrywine</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>CPD_WineMust</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>10</processDays>
            </li>
            <li>
              <thingDef>VG_AmbrosiaWine</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>VG_AmbrosiaMust</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>10</processDays>
            </li>
            <li>
              <thingDef>saki</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>CPD_RiceMash</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>7</processDays>
            </li>
            <li>
              <thingDef>CPD_VodkaPrecursor</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>RawPotatoes</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>6</processDays>
            </li>
            <li>
              <thingDef>tequila</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>VG_AgaveMust</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>9</processDays>
            </li>
            <li>
              <thingDef>whisky</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>CPD_CornWort</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>7</processDays>
            </li>
            <li>
              <thingDef>Fruitshine</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>VG_FruitMash</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>7</processDays>
            </li>
            <li>
              <thingDef>FruitKvass</thingDef>
              <ingredientFilter>
                  <thingDefs>
                      <li>VG_FruitKvassWort</li>
                  </thingDefs>
              </ingredientFilter>
              <maxCapacity>30</maxCapacity>
              <processDays>5</processDays>
            </li>
          </value>
        </li>
        <li Class="PatchOperationReplace">
        <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]/comps/li[@Class="Drinks.CompProperties_UniversalFermenter"]</xpath>
          <value>
            <li Class="UniversalFermenter.CompProperties_UniversalFermenter">
              <barOffset>(0.0, 0.5)</barOffset>
              <productIconSize>(2.0, 2.0)</productIconSize>
              <processes>
                <li>
                  <thingDef>Beer</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>Wort</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>150</maxCapacity>
                  <processDays>3.75</processDays>
                </li>
                <li>
                  <thingDef>rum</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>VG_CaneMash</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>6</processDays>
                </li>
                <li>
                  <thingDef>strawberrywine</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>CPD_WineMust</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>7.5</processDays>
                </li>
                <li>
                  <thingDef>VG_AmbrosiaWine</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>VG_AmbrosiaMust</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>7.5</processDays>
                </li>
                <li>
                  <thingDef>saki</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>CPD_RiceMash</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>5.25</processDays>
                </li>
                <li>
                  <thingDef>CPD_VodkaPrecursor</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>RawPotatoes</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>4.5</processDays>
                </li>
                <li>
                  <thingDef>tequila</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>VG_AgaveMust</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>6.25</processDays>
                </li>
                <li>
                  <thingDef>whisky</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>CPD_CornWort</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>5.25</processDays>
                </li>
                <li>
                  <thingDef>Fruitshine</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>VG_FruitMash</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>5.25</processDays>
                </li>
                <li>
                  <thingDef>FruitKvass</thingDef>
                  <ingredientFilter>
                    <thingDefs>
                      <li>VG_FruitKvassWort</li>
                    </thingDefs>
                  </ingredientFilter>
                  <maxCapacity>120</maxCapacity>
                  <processDays>3.75</processDays>
                </li>
              </processes>
            </li>
          </value>
        </li>
        <li Class="PatchOperationReplace">
        <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]/graphicData/texPath</xpath>
          <value>
            <texPath>Things/Building/Production/UF_Barrel</texPath>
          </value>
        </li>
        <li Class="PatchOperationAdd">
        <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]/graphicData</xpath>
          <value>
            <shaderType>CutoutComplex</shaderType>
          </value>
        </li>
        <li Class="PatchOperationAdd">
        <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]</xpath>
          <value>
            <thingClass>UniversalFermenter.Building_ColorCoded</thingClass>
          </value>
        </li>
        <li Class="PatchOperationRemove">
          <xpath>*/WorkGiverDef[defName = "VG_WorkGiver_TakeProductOutOfUniversalFermenter" or defName = "VG_WorkGiver_FillUniversalFermenter"]</xpath>
        </li>
        <li Class="PatchOperationFindMod">
          <mods>
            <li>VGP Vegetable Garden</li>
          </mods>
          <match Class="PatchOperationSequence">
            <operations>
              <li Class="PatchOperationAdd">
              <xpath>*/ThingDef[defName = "UniversalFermenter"]/comps/li[@Class="UniversalFermenter.CompProperties_UniversalFermenter"]/processes</xpath>
                <value>
                  <li>
                    <thingDef>cider</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_CiderMust</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>30</maxCapacity>
                    <processDays>6</processDays>
                  </li>
                  <li>
                    <thingDef>Mead</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_MeadBase</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>40</maxCapacity>
                    <processDays>6</processDays>
                  </li>
                  <li>
                    <thingDef>BrownAle</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_BrownMalt</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>30</maxCapacity>
                    <processDays>6</processDays>
                  </li>
                  <li>
                    <thingDef>KvassSoda</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_KvassSodaWort</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>30</maxCapacity>
                    <processDays>5</processDays>
                  </li>
                  <li>
                    <thingDef>VegetableKvass</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_VegKvassWort</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>30</maxCapacity>
                    <processDays>5</processDays>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationAdd">
              <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]/comps/li[@Class="UniversalFermenter.CompProperties_UniversalFermenter"]/processes</xpath>
                <value>
                  <li>
                    <thingDef>cider</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_CiderMust</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>120</maxCapacity>
                    <processDays>5.5</processDays>
                  </li>
                  <li>
                    <thingDef>Mead</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_MeadBase</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>120</maxCapacity>
                    <processDays>6</processDays>
                  </li>
                  <li>
                    <thingDef>BrownAle</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_BrownMalt</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>150</maxCapacity>
                    <processDays>5.5</processDays>
                  </li>
                  <li>
                    <thingDef>KvassSoda</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_KvassSodaWort</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>120</maxCapacity>
                    <processDays>3.75</processDays>
                  </li>
                  <li>
                    <thingDef>VegetableKvass</thingDef>
                    <ingredientFilter>
                        <thingDefs>
                            <li>VG_VegKvassWort</li>
                        </thingDefs>
                    </ingredientFilter>
                    <maxCapacity>120</maxCapacity>
                    <processDays>3.75</processDays>
                  </li>
                </value>
              </li>
              <li Class="PatchOperationFindMod">
                <mods>
                  <li>Vanilla Factions Expanded - Medieval</li>
                </mods>
                <nomatch Class="PatchOperationSequence">
                  <operations>
                    <li Class="PatchOperationAdd">
                    <xpath>*/ThingDef[defName = "UniversalFermenter"]/comps/li[@Class="UniversalFermenter.CompProperties_UniversalFermenter"]/processes</xpath>
                      <value>
                        <li>
                          <thingDef>Wine</thingDef>
                          <ingredientFilter>
                              <thingDefs>
                                  <li>VG_GrapeMust</li>
                              </thingDefs>
                          </ingredientFilter>
                          <maxCapacity>30</maxCapacity>
                          <processDays>10</processDays>
                        </li>
                      </value>
                    </li>
                    <li Class="PatchOperationAdd">
                    <xpath>*/ThingDef[defName = "VG_LargeFermentingBarrel"]/comps/li[@Class="UniversalFermenter.CompProperties_UniversalFermenter"]/processes</xpath>
                      <value>
                        <li>
                          <thingDef>Wine</thingDef>
                          <ingredientFilter>
                              <thingDefs>
                                  <li>VG_GrapeMust</li>
                              </thingDefs>
                          </ingredientFilter>
                          <maxCapacity>120</maxCapacity>
                          <processDays>7.5</processDays>
                        </li>
                      </value>
                    </li>
                  </operations>
                </nomatch>
              </li>
            </operations>
          </match>
        </li>
      </operations>
    </match>
  </Operation>
  
</Patch>
